<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>
  File: README
  
    &mdash; Documentation by YARD 0.9.37
  
</title>

  <link rel="stylesheet" href="css/style.css" type="text/css" />

  <link rel="stylesheet" href="css/common.css" type="text/css" />

<script type="text/javascript">
  pathId = "README";
  relpath = '';
</script>


  <script type="text/javascript" charset="utf-8" src="js/jquery.js"></script>

  <script type="text/javascript" charset="utf-8" src="js/app.js"></script>


  </head>
  <body>
    <div class="nav_wrap">
      <iframe id="nav" src="file_list.html?1"></iframe>
      <div id="resizer"></div>
    </div>

    <div id="main" tabindex="-1">
      <div id="header">
        <div id="menu">
  
    <a href="_index.html">Index</a> &raquo; 
    <span class="title">File: README</span>
  
</div>

        <div id="search">
  
    <a class="full_list_link" id="class_list_link"
        href="class_list.html">

        <svg width="24" height="24">
          <rect x="0" y="4" width="24" height="4" rx="1" ry="1"></rect>
          <rect x="0" y="12" width="24" height="4" rx="1" ry="1"></rect>
          <rect x="0" y="20" width="24" height="4" rx="1" ry="1"></rect>
        </svg>
    </a>
  
</div>
        <div class="clear"></div>
      </div>

      <div id="content"><div id='filecontents'>
<h1 id="label-Ruby-cBOR">Ruby-cBOR</h1>

<p><a href="https://badge.fury.io/rb/rbor"><img src="https://badge.fury.io/rb/rbor.svg"></a></p>

<p>The Concise Binary Object Representation (CBOR) is a data format whose design goals include the possibility of extremely small code size, fairly small message size, and extensibility without the need for version negotiation (RFC8949). It is used in different protocols like the Client to Authenticator Protocol CTAP2 which is a essential part of FIDO2 authenticators/ Passkeys.</p>

<p>This gem implements de-/serialization for the following Ruby classes:</p>
<ul><li>
<p><code>Integer</code></p>
</li><li>
<p><code>String</code></p>
</li><li>
<p><code>Array</code></p>
</li><li>
<p><code>Hash</code></p>
</li><li>
<p><code>FalseClass</code></p>
</li><li>
<p><code>TrueClass</code></p>
</li><li>
<p><code>NilClass</code></p>
</li></ul>

<p>Furthermore, serialization adheres to the <a href="https://fidoalliance.org/specs/fido-v2.0-ps-20190130/fido-client-to-authenticator-protocol-v2.0-ps-20190130.html#ctap2-canonical-cbor-encoding-form">CTAP2 canonical CBOR encoding form</a>, i.e.:</p>
<ul><li>
<p>Integers are encoded as small as possible.</p>
</li><li>
<p>The expression of lengths is encoded as small as possible.</p>
</li><li>
<p>No support for indefinite-length items.</p>
</li><li>
<p>Keys of Hashes/Maps are sorted lowest value to highest. Sorting rules are:</p>
<ul><li>
<p>If the major types are different, the one with the lower value in numerical order sorts earlier.</p>
</li><li>
<p>If two keys have different lengths, the shorter one sorts earlier.</p>
</li><li>
<p>If two keys have the same length, the one with the lower value in (byte-wise) lexical order sorts earlier.</p>
</li></ul>
</li></ul>

<h2 id="label-Usage">Usage</h2>

<p>Requiring <code>rbor</code> exposes two methods for the aforementioned classes: <code>cbor_serialize</code> and <code>cbor_deserialize</code>. Use <code>cbor_serialize</code> to translate an object into CBOR and <code>cbor_deserialize</code> to de-serialize CBOR data (<code>String</code> or <code>Array</code>) into a Ruby object.</p>

<pre class="code ruby"><code class="ruby">3.3.5 :001 &gt; require &#39;rbor&#39;
 =&gt; true 
3.3.5 :002 &gt; {1 =&gt; 2, 3 =&gt; 3}.cbor_serialize
 =&gt; &quot;\xA2\x01\x02\x03\x03&quot; 
3.3.5 :003 &gt; &quot;\xA2\x01\x02\x03\x03&quot;.cbor_deserialize
 =&gt; [{1=&gt;2, 3=&gt;3}, []]
</code></pre>

<p>The <code>cbor_deserialize</code> method return an <code>Array</code> with two values: a de-serialized Ruby object and an <code>Array</code> representing the remaining bytes.</p>

<h2 id="label-Build">Build</h2>

<h3 id="label-Build+gem">Build gem</h3>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_gem'>gem</span> <span class='id identifier rubyid_build'>build</span> <span class='id identifier rubyid_rbor'>rbor</span><span class='period'>.</span><span class='id identifier rubyid_gemspec'>gemspec</span>
<span class='id identifier rubyid_gem'>gem</span> <span class='id identifier rubyid_push'>push</span> <span class='id identifier rubyid_rbor'>rbor</span><span class='op'>-</span><span class='id identifier rubyid_x'>x</span><span class='period'>.</span><span class='id identifier rubyid_y'>y</span><span class='period'>.</span><span class='id identifier rubyid_z'>z</span><span class='period'>.</span><span class='id identifier rubyid_gem'>gem</span>
</code></pre>

<h2 id="label-Docs">Docs</h2>

<p>The project uses Yard to build the documentation. You can install it using the <code>gem</code> command.</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_gem'>gem</span> <span class='id identifier rubyid_install'>install</span> <span class='id identifier rubyid_yard'>yard</span>
</code></pre>

<p>To build the documentation run:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_yard'>yard</span>
</code></pre>

<h2 id="label-Testing">Testing</h2>

<p>You can run tests with <a href="https://rspec.info/">rspec</a>:</p>

<pre class="code ruby"><code class="ruby">rspec --format doc
</code></pre>
</div></div>

      <div id="footer">
  Generated on Mon Sep  9 09:49:13 2024 by
  <a href="https://yardoc.org" title="Yay! A Ruby Documentation Tool" target="_parent">yard</a>
  0.9.37 (ruby-3.3.5).
</div>

    </div>
  </body>
</html>